stages:
  - name: test
  - name: snapshot
    if: branch = dev
  - name: release
    if: branch = master

jobs:
  include:
    - stage: test
      script: ./gradlew check
      os: linux
      language: java
      jdk: openjdk12
    - stage: snapshot
      script: ./gradlew bintrayUpload -PsnapshotNumber=$TRAVIS_BUILD_NUMBER
      os: linux
      language: java
      jdk: openjdk12
    - stage: release
      script: ./gradlew bintrayUpload
      os: linux
      language: java
      jdk: openjdk12
